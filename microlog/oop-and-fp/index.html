<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.74.3"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=keywords content="programming,software development,golang,tdd,agile"><meta name=description content><meta property="og:title" content="How is OOP related to FP?"><meta property="og:description" content="Let&rsquo;s assume that we can question everything that is assumed to be a fact (or ask stupid questions - your take).
OOP was about message passing Apparently, the language that is most close to the original idea of OOP, is &mldr; Erlang! According to Alan Kay (mentioned this on different occassions).
Closures & Functional Programming  Here we are cheating a bit, just to communicate better. We can blame things after."><meta property="og:type" content="article"><meta property="og:url" content="https://www.shahbazian.link/microlog/oop-and-fp/"><meta property="article:published_time" content="2020-05-31T01:38:54+02:00"><meta property="article:modified_time" content="2020-05-31T01:38:54+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="How is OOP related to FP?"><meta name=twitter:description content="Let&rsquo;s assume that we can question everything that is assumed to be a fact (or ask stupid questions - your take).
OOP was about message passing Apparently, the language that is most close to the original idea of OOP, is &mldr; Erlang! According to Alan Kay (mentioned this on different occassions).
Closures & Functional Programming  Here we are cheating a bit, just to communicate better. We can blame things after."><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=stylesheet type=text/css media=screen href=https://www.shahbazian.link/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://www.shahbazian.link/css/main.css><link rel=stylesheet type=text/css media=screen href=https://www.shahbazian.link/css/all.css><link rel=stylesheet href=https://www.shahbazian.link/css/katex.min.css crossorigin=anonymous><script defer src=https://www.shahbazian.link/js/katex.min.js integrity=sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz crossorigin=anonymous></script><script defer src=https://www.shahbazian.link/js/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body);></script><title>How is OOP related to FP? | sketches</title></head><body><header><div id=avatar><a href=https://www.shahbazian.link/><img src=/images/logo.png alt=sketches></a></div><div id=titletext><h2 id=title><a href=https://www.shahbazian.link/>sketches</a></h2></div><div id=title-description><p id=subtitle>sketches for software development</p><div id=social><nav><ul><li><a href=/index.xml><i title=RSS class="icons fas fa-rss"></i></a></li><li><a href=https://twitter.com/__dc0d__><i title=Twitter class="icons fab fa-twitter"></i></a></li><li><a href=mailto:kaveh@shahbazian.link><i title=Email class="icons fas fa-envelope"></i></a></li></ul></nav></div></div><div id=mainmenu><nav><ul><li><a href=/>Home</a></li><li><a href=/tags>Tags</a></li><li><a href=/about>About</a></li></ul></nav></div></header><main><div class=post><div class=author></div><div class=post-header><div class=meta><div class=date><span class=day>31</span>
<span class=rest>May 2020</span></div></div><div class=matter><h1 class=title>How is OOP related to FP?</h1></div></div><div class=markdown><p>Let&rsquo;s assume that we can question everything that is assumed to be a fact (or ask stupid questions - your take).</p><h1 id=oop-_was_-about-message-passing>OOP <em>was</em> about message passing</h1><p>Apparently, the language that is most close to the original idea of OOP, is &mldr; Erlang! According to Alan Kay (mentioned this on <a href="https://news.ycombinator.com/item?id=14337970">different</a> <a href=https://www.quora.com/What-does-Alan-Kay-think-about-Joe-Armstrong-claiming-that-Erlang-might-be-the-only-object-oriented-language-and-also-his-thesis-supervisor-s-claim-that-Erlang-is-extremely-object-oriented>occassions</a>).</p><h1 id=closures--functional-programming>Closures & Functional Programming</h1><blockquote><p>Here we are cheating a bit, just to communicate better. We can blame things after.</p></blockquote><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>const</span> (
	<span style=color:#a6e22e>factor</span> = <span style=color:#ae81ff>10</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>add10</span>(<span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span>      { <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>factor</span> }
<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>multiply10</span>(<span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> { <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>factor</span> }
</code></pre></div><p>Here, only functions are used. The <code>factor</code> constant, is a closure, accessed inside <code>add10</code> and <code>multiply10</code> functions. Very Functional so far.</p><h1 id=factor-out-the-shared-closure>Factor Out The Shared Closure</h1><p>An idea: let&rsquo;s factor out the shared closure and put it inside something (we will call it an object later).</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>factor</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>value</span> <span style=color:#66d9ef>int</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>newFactor</span>() <span style=color:#a6e22e>factor</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>factor</span>{<span style=color:#a6e22e>value</span>: <span style=color:#ae81ff>10</span>}
}

<span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>f</span> <span style=color:#a6e22e>factor</span>) <span style=color:#a6e22e>add10</span>(<span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span>      { <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>value</span> }
<span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>f</span> <span style=color:#a6e22e>factor</span>) <span style=color:#a6e22e>multiply10</span>(<span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> { <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>value</span> }
</code></pre></div><p>Wow! An Object is very much like a bunch of functions with a shared closure!</p><h1 id=last-bit-mutation>Last Bit, Mutation</h1><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>factor</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>value</span> <span style=color:#66d9ef>int</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>newFactor</span>() <span style=color:#a6e22e>factor</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>factor</span>{<span style=color:#a6e22e>value</span>: <span style=color:#ae81ff>10</span>}
}

<span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>f</span> <span style=color:#a6e22e>factor</span>) <span style=color:#a6e22e>add10</span>(<span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span>                           { <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>value</span> }
<span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>f</span> <span style=color:#a6e22e>factor</span>) <span style=color:#a6e22e>multiply10</span>(<span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span>                      { <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>value</span> }
<span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>f</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>factor</span>) <span style=color:#a6e22e>makeOtherMethodsMeaningless</span>(<span style=color:#a6e22e>newFactor</span> <span style=color:#66d9ef>int</span>) { <span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>value</span> = <span style=color:#a6e22e>newFactor</span> }
</code></pre></div><p>Now we have a mutable closure, shared between a bunch of functions (now called <em>methods</em>).</p><h1 id=oop-and-functional-duality>OOP and Functional Duality</h1><p>OOP and Functional Programming &ldquo;can&rdquo; be seen as a dual. They represent the same thing, to a great extent and they try to provide tools to solve the same problem: composition.</p><h1 id=what-about-message-passing>What about message passing?</h1><p>We simply forgot about that - in time. OOP - in its original form - was about message-passing and behavior. And was trying to organize state and transformation through composing behaviors. While the OOP that we have tries to solve the composition problem, through data structures/type - same as Functional Programming.</p><p>Behavior has been forgotten.</p><blockquote><p>This was a quick sketch for drafting out these ideas and get them written. Maybe it can be improved, maybe not.</p></blockquote></div><div class=tags></div></div></main></body></html>